!level
  repoVcsSetups:
    basic:
      workingPath: basic
      referenceStoreName: basic-operation
      checkpointStoreName: basic-operation-checkpoints
  steps:
    - !loadReference 
      referenceName: init

  # intro & instruct add new file
    - !elaborate 
      descriptionId: "level-data/commit-one-file/intro-goal"
    - !illustrate 
      descriptionId: "level-data/commit-one-file/brief-workflow"
    - !instruct 
      descriptionId: "level-data/commit-one-file/add-file"
      needConfirm: false
    - !dev.needAction 
      actions:
        - !act.moveFile 
          sourceAssetIds:
            - "$level-data/commit-one-file/empty"
          destinationPaths:
            - new.txt
    - !verifyRepo 
      referenceName: add-new-file

    - !instruct 
      descriptionId: "level-data/commit-one-file/instruct-open-fork"
    - !instruct 
      descriptionId: "level-data/commit-one-file/instruct-open-commit"

    - !instruct
      descriptionId: "level-data/commit-one-file/stage-new-file"
      needConfirm: false
    - !dev.needAction 
      actions:
        - !act.stageAll 
          repoSetupName: basic
    - !verifyRepo 
      referenceName: stage-new
    
    - !instruct 
      descriptionId: "level-data/commit-one-file/fill-message-and-commit"
      needConfirm: false
    - !dev.needAction 
      actions:
        - !dev.act.git 
          repoSetupName: basic
          arguments: [ "commit", "-m", "$level-data/commit-one-file/commit-message" ]
    - !verifyRepo 
      referenceName: commit

    - !elaborate 
      descriptionId: "level-data/commit-one-file/view-graph"

