!level
  repoVcsSetups:
    local: 
      !repoVcs
        workingPath: "local"
        referenceStoreName: "test-local-ref"
        checkpointStoreName: "test-local-checkpoints"
    another:
      !repoVcs
        workingPath: "another"
        referenceStoreName: "another"
        checkpointStoreName: "test-another-checkpoints"
    remote:
      !repoVcs
        workingPath: "remote"
        referenceStoreName: "test-remote-ref"
        checkpointStoreName: "test-remote-checkpoints"
  steps:
    - !devAction
      actions:
      - !act.loadRepoReferenceArchive
        repoSetupName: local
        assetId: "archives/init-repo-store:test-local-ref"
      - !act.loadRepoReferenceArchive
        repoSetupName: remote
        assetId: "archives/init-repo-store:test-remote-ref"
      - !act.loadRepoReferenceArchive
        repoSetupName: another
        assetId: "archives/init-repo-store:test-local-ref"
      - !act.loadReference
        repoSetupName: local
        referenceName: merge
      - !act.loadReference
        repoSetupName: another
        referenceName: merge
      - !act.loadReference
        repoSetupName: remote
        referenceName: push-all
      - !act.git
        repoSetupName: local
        arguments:
        - remote
        - add
        - origin
        - "../repo-stores/test-remote-ref"
      - !act.git
        repoSetupName: another
        arguments:
        - remote
        - add
        - origin
        - "../repo-stores/test-remote-ref"  
      - !act.saveReference
        repoSetupName: local
        referenceName: remote-init
      - !act.saveReference
        repoSetupName: another
        referenceName: remote-init

    - !loadReference
      repoSetupName: local
      referenceName: remote-init
    - !loadReference
      repoSetupName: another
      referenceName: remote-init
    - !loadReference
      repoSetupName: remote
      referenceName: push-all

    - !elaborate
      descriptionId: "level-data/remote/description:elaborate:intro"

    


